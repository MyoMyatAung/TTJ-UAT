import { useState } from "react";
import LikeButton from "./LikeButton";
import { useSelector } from "react-redux";
import { selectTheme } from "../../../pages/search/slice/ThemeSlice";
import { useNavigate } from "react-router-dom";
import ShareButton from "./ShareButton";

type Props = {
  post: any;
};

const PostFooter: React.FC<Props> = ({ post }) => {
  const [showCreatedTime, setShowCreatedTime] = useState(false);
  const darkmode = useSelector(selectTheme);
  const navigate = useNavigate();

  const handleShowDetail = (post: any) => {
    navigate(`/detail-social/${post.post_id}`);
  };
  return (
    <div className="flex justify-between items-center px-4 py-3 text-xs">
      {showCreatedTime ? (
        <div className="fixed top-0 left-0 flex h-screen items-center justify-center z-[1000] w-full">
          <p className="text-[12px] text-white font-semibold bg-gradient-to-r from-background to-gray-800 px-3 py-1 rounded-md">
            该功能还在开发中，敬请期待！
          </p>
        </div>
      ) : (
        <></>
      )}

      <div>
        <p className="text-gray-400 text-xs">{post?.create_time}</p>
      </div>

      <div className="flex gap-x-5  items-center justify-center">
        <LikeButton
          is_liked={post.is_liked}
          like_count={post.like_count}
          post_id={post.post_id}
        />
        <button
          onClick={() => handleShowDetail(post)}
          // onClick={() => showCreatedTimeHandler()}
          className="flex -mt-[2px] items-center gap-x-2 text-black dark:text-white"
        >
          {!darkmode ? (
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="19"
              height="18"
              viewBox="0 0 19 18"
              fill="none"
            >
              <path
                d="M2.23138 13.7092C2.00563 13.3259 1.85776 13.0689 1.78426 12.9318C1.10331 11.6618 0.747951 10.2428 0.750009 8.80176C0.750009 3.96935 4.6676 0.0517578 9.50001 0.0517578C14.3324 0.0517578 18.25 3.96935 18.25 8.80176C18.25 13.6342 14.3324 17.5518 9.50001 17.5518C7.91718 17.5541 6.36362 17.1252 5.00623 16.311C4.86948 16.23 4.7324 16.1496 4.59498 16.0697L2.45385 16.6538C1.96385 16.7872 1.51454 16.3377 1.6482 15.8479L2.23138 13.7092ZM3.57057 13.7869L3.21663 15.0851L4.51491 14.7312C4.59892 14.7083 4.68665 14.7023 4.77299 14.7136C4.85933 14.7249 4.94256 14.7532 5.01782 14.797C5.23951 14.9256 5.46067 15.0551 5.68129 15.1855C6.83476 15.8773 8.15499 16.2416 9.50001 16.2393C13.6077 16.2393 16.9375 12.9094 16.9375 8.80176C16.9375 4.69407 13.6077 1.36426 9.50001 1.36426C5.39232 1.36426 2.06251 4.69407 2.06251 8.80176C2.06251 10.0443 2.36701 11.2413 2.94079 12.3114C3.01692 12.4531 3.20592 12.7795 3.5021 13.28C3.54686 13.3556 3.57598 13.4394 3.58774 13.5265C3.59951 13.6135 3.59367 13.7021 3.57057 13.7869ZM6.5646 12.3354C6.49715 12.2807 6.44123 12.2132 6.40009 12.1367C6.35894 12.0602 6.33339 11.9763 6.32491 11.8899C6.31643 11.8034 6.32519 11.7162 6.35069 11.6331C6.37618 11.5501 6.41791 11.473 6.47344 11.4062C6.52897 11.3394 6.5972 11.2843 6.67419 11.2441C6.75117 11.2039 6.83537 11.1794 6.9219 11.1719C7.00844 11.1645 7.09559 11.1743 7.17829 11.2008C7.261 11.2274 7.33763 11.27 7.40373 11.3264C7.9921 11.8167 8.73412 12.0845 9.50001 12.083C10.277 12.083 11.0109 11.8129 11.5956 11.3266C11.6619 11.2715 11.7384 11.23 11.8207 11.2044C11.903 11.1789 11.9895 11.1698 12.0754 11.1777C12.1612 11.1856 12.2446 11.2103 12.3209 11.2505C12.3971 11.2906 12.4648 11.3454 12.5199 11.4117C12.575 11.4779 12.6165 11.5544 12.642 11.6367C12.6675 11.719 12.6766 11.8056 12.6687 11.8914C12.6608 11.9772 12.6361 12.0606 12.5959 12.1369C12.5558 12.2132 12.501 12.2808 12.4348 12.3359C11.6108 13.0219 10.5722 13.3969 9.50001 13.3955C8.42756 13.397 7.38866 13.0218 6.5646 12.3354Z"
                fill="black"
              />
            </svg>
          ) : (
            <svg
              width="21"
              height="21"
              viewBox="0 0 21 21"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M3.23138 15.4075C3.00563 15.0242 2.85776 14.7672 2.78426 14.63C2.10331 13.3601 1.74795 11.941 1.75001 10.5C1.75001 5.66762 5.6676 1.75003 10.5 1.75003C15.3324 1.75003 19.25 5.66762 19.25 10.5C19.25 15.3324 15.3324 19.25 10.5 19.25C8.91718 19.2524 7.36362 18.8234 6.00623 18.0093C5.86948 17.9283 5.7324 17.8479 5.59498 17.768L3.45385 18.3521C2.96385 18.4855 2.51454 18.036 2.6482 17.5462L3.23138 15.4075ZM4.57057 15.4851L4.21663 16.7834L5.51491 16.4295C5.59892 16.4065 5.68665 16.4005 5.77299 16.4118C5.85933 16.4231 5.94256 16.4515 6.01782 16.4953C6.23951 16.6239 6.46067 16.7534 6.68129 16.8838C7.83476 17.5756 9.15499 17.9399 10.5 17.9375C14.6077 17.9375 17.9375 14.6077 17.9375 10.5C17.9375 6.39234 14.6077 3.06253 10.5 3.06253C6.39232 3.06253 3.06251 6.39234 3.06251 10.5C3.06251 11.7425 3.36701 12.9395 3.94079 14.0097C4.01692 14.1514 4.20592 14.4778 4.5021 14.9783C4.54686 15.0539 4.57598 15.1377 4.58774 15.2248C4.59951 15.3118 4.59367 15.4004 4.57057 15.4851ZM7.5646 14.0337C7.49715 13.979 7.44123 13.9114 7.40009 13.835C7.35894 13.7585 7.33339 13.6746 7.32491 13.5881C7.31643 13.5017 7.32519 13.4144 7.35069 13.3314C7.37618 13.2484 7.41791 13.1712 7.47344 13.1045C7.52897 13.0377 7.5972 12.9826 7.67419 12.9424C7.75117 12.9022 7.83537 12.8776 7.9219 12.8702C8.00844 12.8628 8.09559 12.8726 8.17829 12.8991C8.261 12.9256 8.33763 12.9683 8.40373 13.0246C8.9921 13.5149 9.73412 13.7828 10.5 13.7813C11.277 13.7813 12.0109 13.5111 12.5956 13.0248C12.6619 12.9697 12.7384 12.9282 12.8207 12.9027C12.903 12.8772 12.9895 12.8681 13.0754 12.876C13.1612 12.8839 13.2446 12.9086 13.3209 12.9488C13.3971 12.9889 13.4648 13.0437 13.5199 13.1099C13.575 13.1762 13.6165 13.2527 13.642 13.335C13.6675 13.4173 13.6766 13.5038 13.6687 13.5897C13.6608 13.6755 13.6361 13.7589 13.5959 13.8352C13.5558 13.9114 13.501 13.9791 13.4348 14.0342C12.6108 14.7202 11.5722 15.0952 10.5 15.0938C9.42756 15.0952 8.38866 14.7201 7.5646 14.0337Z"
                fill="white"
              />
            </svg>
          )}
          {post.comment_count}
        </button>
        <ShareButton />
      </div>
    </div>
  );
};

export default PostFooter;
